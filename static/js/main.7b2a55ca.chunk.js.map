{"version":3,"sources":["components/RandomPlanetDisplay/RandomPlanetDisplay.module.scss","components/Card/Card.module.scss","components/Card/CardTitle.module.scss","components/Card/CardBody.module.scss","components/Card/CardFooter.module.scss","assets/icons/death-star.svg","assets/img/star-wars-logo.png","components/PlaceholderLoader/PlaceholderLoader.js","components/Card/CardTitle.js","components/Card/CardBody.js","components/Card/CardFooter.js","components/Card/Card.js","components/Button/Button.js","components/ButtonSecondary/ButtonSecondary.js","Utils.js","config/ApiConfig.js","api/PlanetsAPI.js","api/FilmsAPI.js","components/RandomPlanetDisplay/RandomPlanetDisplay.js","index.js","components/PlaceholderLoader/PlaceholderLoader.module.scss","components/Button/Button.module.scss","components/ButtonSecondary/ButtonSecondary.module.scss"],"names":["module","exports","PlaceholderLoader","height","maxWidth","marginBottom","className","styles","placeholder","style","minHeight","animatedBackground","CardTitle","children","loading","cardTitle","CardBody","cardBody","CardFooter","cardFooter","Card","card","Button","onClick","disabled","role","button","join","ButtonSecondary","formatNumber","number","isNaN","Intl","NumberFormat","format","getRandomNumber","min","max","Math","floor","random","SWAPI_PLANETS_ENDPOINT","PlanetsAPI","getPlanetsCount","Promise","resolve","a","response","error","message","data","apiResponse","axios","get","count","toString","getPlanetById","id","getFilmTitleByUrl","url","title","FilmsAPI","getFilmsTitleByUrlArray","urlArray","length","all","map","film","filter","filmTitle","RandomPlanetDisplay","useState","planetsCount","setPlanetsCount","planet","setPlanet","featuredFilms","setFeaturedFilms","setError","errorMessage","setErrorMessage","filmsError","setFilmsError","loadingPlanet","setLoadingPlanet","loadingFilms","setLoadingFilms","loadingPlanetsCount","setLoadingPlanetsCount","fetchPlanetsCount","result","localStorage","fetchRandomPlanet","randomId","fetchFilmsTitle","films","filmsTitleArray","useEffect","Object","entries","document","name","container","src","StarWarsLogo","alt","starWarsLogoImg","deathStarIcon","noConnectionIcon","noConnectionMessage","noConnectionDetails","buttonMargin","greyText","population","climate","terrain","filmsErrorMessage","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7b2a55ca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RandomPlanetDisplay_container__ewe3q\",\"starWarsLogoImg\":\"RandomPlanetDisplay_starWarsLogoImg__29wCO\",\"buttonMargin\":\"RandomPlanetDisplay_buttonMargin__2_ms1\",\"greyText\":\"RandomPlanetDisplay_greyText__1cZpf\",\"noConnectionIcon\":\"RandomPlanetDisplay_noConnectionIcon__2mhtm\",\"noConnectionMessage\":\"RandomPlanetDisplay_noConnectionMessage__MqnN9\",\"noConnectionDetails\":\"RandomPlanetDisplay_noConnectionDetails__3LML6\",\"filmsErrorMessage\":\"RandomPlanetDisplay_filmsErrorMessage__2o-uO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1-hnJ\",\"cardTitle\":\"Card_cardTitle__393vX\",\"placeholder\":\"Card_placeholder__37e6Y\",\"animatedBackground\":\"Card_animatedBackground__N3Xhy\",\"placeHolderShimmer\":\"Card_placeHolderShimmer__2MMdk\",\"cardBody\":\"Card_cardBody__EGJUB\",\"placeholder1\":\"Card_placeholder1__2hvSY\",\"placeholder2\":\"Card_placeholder2__2C632\",\"placeholder3\":\"Card_placeholder3__1iqYQ\",\"cardFooter\":\"Card_cardFooter__2gzG9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardTitle\":\"CardTitle_cardTitle__1KORw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardBody\":\"CardBody_cardBody__31Ctx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardFooter\":\"CardFooter_cardFooter__9u6ZX\"};","module.exports = __webpack_public_path__ + \"static/media/death-star.e43cf385.svg\";","module.exports = __webpack_public_path__ + \"static/media/star-wars-logo.528d93d0.png\";","import React from 'react';\nimport styles from './PlaceholderLoader.module.scss';\n\nfunction PlaceholderLoader({ height = '14px', maxWidth = '100%', marginBottom = '0' }) {\n  return (\n    <div className={styles.placeholder} style={{ minHeight: height, maxWidth, marginBottom }}>\n      <div className={styles.animatedBackground} style={{ height }}></div>\n    </div>\n  );\n}\n\nexport default PlaceholderLoader;\n","import React from 'react';\nimport styles from './CardTitle.module.scss';\nimport PlaceholderLoader from '../PlaceholderLoader/PlaceholderLoader';\n\nfunction CardTitle({ children, loading }) {\n  return (\n    <div className={styles.cardTitle}>\n      {\n        loading ?\n          <>\n            <PlaceholderLoader height=\"50px\" maxWidth=\"90%\" />\n          </>\n        :\n          <>\n            {children}\n          </>\n      }\n    </div>\n  );\n}\n\nexport default CardTitle;\n","import React from 'react';\nimport styles from './CardBody.module.scss';\nimport PlaceholderLoader from '../PlaceholderLoader/PlaceholderLoader';\n\nfunction CardBody({ children, loading }) {\n  return (\n    <div className={styles.cardBody}>\n      {\n        loading ?\n          <>\n            <PlaceholderLoader height=\"16px\" maxWidth=\"90%\" marginBottom=\"10px\" />\n            <PlaceholderLoader height=\"16px\" maxWidth=\"50%\" marginBottom=\"10px\" />\n            <PlaceholderLoader height=\"16px\" maxWidth=\"70%\" />\n          </>\n        :\n          <>\n            {children}\n          </>\n      }\n    </div>\n  );\n}\n\nexport default CardBody;\n","import React from 'react';\nimport styles from './CardFooter.module.scss';\nimport PlaceholderLoader from '../PlaceholderLoader/PlaceholderLoader';\n\nfunction CardFooter({ children, loading }) {\n  return (\n    <div className={styles.cardFooter}>\n      {\n        loading ?\n          <>\n            <PlaceholderLoader height=\"14px\" maxWidth=\"50%\" />\n          </>\n        :\n          <>\n            {children}\n          </>\n      }\n    </div>\n  );\n}\n\nexport default CardFooter;\n","import React from 'react';\nimport styles from './Card.module.scss';\nimport CardTitle from './CardTitle';\nimport CardBody from './CardBody';\nimport CardFooter from './CardFooter';\n\nfunction Card({ children }) {\n  return (\n    <div className={styles.card}>\n      {children}\n    </div>\n  );\n}\n\nexport default Card;\nexport {\n  CardTitle,\n  CardBody,\n  CardFooter\n}","import React from 'react';\nimport styles from './Button.module.scss';\n\nfunction Button({ children, onClick, disabled }) {\n  return (\n    <div role=\"button\" className={[styles.button, disabled && styles.disabled].join(' ')} onClick={disabled ? () => {} : onClick}>\n      {children}\n    </div>\n  )\n}\n\nexport default Button;\n","import React from 'react';\nimport styles from './ButtonSecondary.module.scss';\n\nfunction ButtonSecondary({ children, onClick, disabled }) {\n  return (\n    <div role=\"button\" className={[styles.button, disabled && styles.disabled].join(' ')} onClick={disabled ? () => {} : onClick}>\n      {children}\n    </div>\n  )\n}\n\nexport default ButtonSecondary;\n","const formatNumber = (number = 0) => {\n  let formatedNumber = 0;\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  formatedNumber = new Intl.NumberFormat('en').format(number);\n\n  return formatedNumber;\n}\n\nconst getRandomNumber = (min = 0, max = 1) => {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport {\n  formatNumber,\n  getRandomNumber\n}","const SWAPI_URL = 'https://swapi.co/api/';\nconst SWAPI_PLANETS_ENDPOINT = `${SWAPI_URL}planets/`;\nconst SWAPI_FILMS_ENDPOINT = `${SWAPI_URL}films/`;\n\nexport {\n  SWAPI_URL,\n  SWAPI_PLANETS_ENDPOINT,\n  SWAPI_FILMS_ENDPOINT\n}","import axios from 'axios';\nimport { SWAPI_PLANETS_ENDPOINT } from '../config/ApiConfig';\n\nconst getPlanetsCount = () => new Promise(async resolve => {\n  const response = {\n    error: false,\n    message: '',\n    data: 0\n  };\n  let apiResponse = {};\n\n  try {\n    apiResponse = await axios.get(`${SWAPI_PLANETS_ENDPOINT}`);\n    response.data = apiResponse.data.count;\n  } catch (error) {\n    response.error = true;\n    response.message = error.toString();\n  }\n\n  resolve(response);\n});\n\nconst getPlanetById = (id = 0) => new Promise(async resolve => {\n  const response = {\n    error: false,\n    message: '',\n    data: {}\n  };\n  let apiResponse = {};\n\n  try {\n    apiResponse = await axios.get(`${SWAPI_PLANETS_ENDPOINT}${id}/`);\n    response.data = apiResponse.data;\n  } catch (error) {\n    response.error = true;\n    response.message = error.toString();\n  }\n\n  resolve(response);\n});\n\nconst PlanetsAPI = {\n  getPlanetsCount,\n  getPlanetById\n};\n\nexport default PlanetsAPI;\n","import axios from 'axios';\n\nconst getFilmTitleByUrl = (url = '') => new Promise(async resolve => {\n  const response = {\n    error: false,\n    message: '',\n    data: {}\n  };\n  let apiResponse = {};\n  \n  try {\n    apiResponse = await axios.get(url);\n    response.data = apiResponse.data.title;\n  } catch (error) {\n    response.error = true;\n    response.message = error.toString();\n  }\n\n  resolve(response);\n});\n\nconst getFilmsTitleByUrlArray = (urlArray = []) => new Promise(async resolve => {\n  const response = {\n    error: false,\n    message: '',\n    data: []\n  };\n  let apiResponse = {};\n\n  if (urlArray.length === 0) {\n    return resolve(response);\n  }\n\n  apiResponse = await Promise.all(\n    urlArray.map(film => getFilmTitleByUrl(film))\n  );\n\n  response.data = apiResponse.map(film => {\n    if (film.error) {\n      response.error = film.error;\n      response.message = film.message;\n\n      return false;\n    }\n    \n    return film.data;\n  });\n\n  response.data = response.data.filter(filmTitle => filmTitle);\n\n  resolve(response);\n});\n\nconst FilmsAPI = {\n  getFilmTitleByUrl,\n  getFilmsTitleByUrlArray\n};\n\nexport default FilmsAPI;\n","import React, { useState, useEffect } from 'react';\r\nimport Card, { CardTitle, CardBody, CardFooter } from '../Card/Card';\r\nimport Button from '../Button/Button';\r\nimport ButtonSecondary from '../ButtonSecondary/ButtonSecondary';\r\nimport styles from './RandomPlanetDisplay.module.scss';\r\nimport { formatNumber, getRandomNumber } from '../../Utils';\r\nimport PlanetsAPI from '../../api/PlanetsAPI';\r\nimport FilmsAPI from '../../api/FilmsAPI';\r\nimport deathStarIcon from '../../assets/icons/death-star.svg';\r\nimport StarWarsLogo from '../../assets/img/star-wars-logo.png';\r\n\r\nfunction RandomPlanetDisplay() {\r\n  const [planetsCount, setPlanetsCount] = useState(0);\r\n  const [planet, setPlanet] = useState({});\r\n  const [featuredFilms, setFeaturedFilms] = useState([]);\r\n\r\n  const [error, setError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [filmsError, setFilmsError] = useState(false);\r\n\r\n  const [loadingPlanet, setLoadingPlanet] = useState(true);\r\n  const [loadingFilms, setLoadingFilms] = useState(true);\r\n  const [loadingPlanetsCount, setLoadingPlanetsCount] = useState(true);\r\n  \r\n  const fetchPlanetsCount = async () => {\r\n    let result = {}\r\n    \r\n    setLoadingPlanetsCount(true);\r\n    \r\n    result = await PlanetsAPI.getPlanetsCount();\r\n\r\n    setLoadingPlanetsCount(false);\r\n    setError(result.error);\r\n    setErrorMessage(result.message);\r\n\r\n    if (+result.data === +localStorage.planetsCount) {\r\n      return;\r\n    }\r\n\r\n    setPlanetsCount(result.data);\r\n    localStorage.planetsCount = result.data;\r\n  }\r\n\r\n  const fetchRandomPlanet = async (planetsCount = 0) => {\r\n    let randomId = 0;\r\n    let result = {};\r\n\r\n    setLoadingPlanet(true);\r\n    setLoadingFilms(true);\r\n\r\n    randomId = getRandomNumber(1, planetsCount);\r\n    result = await PlanetsAPI.getPlanetById(randomId);\r\n\r\n    setLoadingPlanet(false);\r\n    setError(result.error);\r\n    setErrorMessage(result.message);\r\n    setPlanet(result.data);\r\n  }\r\n\r\n  const fetchFilmsTitle = async (planet = {}) => {\r\n    const filmsTitleArray = await FilmsAPI.getFilmsTitleByUrlArray(planet.films);\r\n\r\n    setFilmsError(filmsTitleArray.error);\r\n    setLoadingFilms(false);\r\n    setFeaturedFilms(filmsTitleArray.data);\r\n  }\r\n\r\n  useEffect(function init() {\r\n    if (localStorage.planetsCount) {\r\n      setPlanetsCount(localStorage.planetsCount);\r\n    }\r\n\r\n    fetchPlanetsCount();\r\n  }, []);\r\n\r\n  useEffect(function handlePlanetsCountChange() {\r\n    if (planetsCount === 0) {\r\n      return;\r\n    }\r\n\r\n    fetchRandomPlanet(planetsCount);\r\n  }, [planetsCount]);\r\n  \r\n  useEffect(function handlePlanetChange() {\r\n    if (Object.entries(planet).length === 0) {\r\n      return;\r\n    }\r\n  \r\n    fetchFilmsTitle(planet);\r\n    document.title = planet.name;\r\n  }, [planet]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <img src={StarWarsLogo} alt=\"Star Wars logo\" className={styles.starWarsLogoImg} />\r\n\r\n      {\r\n        !error ?\r\n          <>\r\n            <Card>\r\n              <CardTitle loading={loadingPlanet}>{planet.name}</CardTitle>\r\n\r\n              <CardBody loading={loadingPlanet}>\r\n                <span className={styles.greyText}>Population:</span> {formatNumber(planet.population)}<br />\r\n                <span className={styles.greyText}>Climate:</span> {planet.climate}<br />\r\n                <span className={styles.greyText}>Terrain:</span> {planet.terrain}\r\n              </CardBody>\r\n\r\n              <CardFooter loading={loadingFilms}>\r\n                {\r\n                  featuredFilms.length === 0 ?\r\n                    <span className={styles.greyText}>Not featured in any film</span>\r\n                  :\r\n                    <>\r\n                      <span className={styles.greyText}>Featured in {featuredFilms.length} {featuredFilms.length > 1 ? 'films' : 'film'}</span><br />\r\n                      {featuredFilms.join(', ')}\r\n                    </>\r\n                }\r\n\r\n                {filmsError && <p className={styles.filmsErrorMessage}>We couldn't retreive all films.</p>}\r\n              </CardFooter>\r\n            </Card>\r\n\r\n            <div className={styles.buttonMargin}>\r\n              <Button disabled={loadingPlanet} onClick={() => fetchRandomPlanet(planetsCount)}>{loadingPlanet ? 'Loading planet' : 'Next'}</Button>\r\n            </div>\r\n          </>\r\n        :\r\n          <>\r\n            <img src={deathStarIcon} alt=\"Death Star icon\" className={styles.noConnectionIcon} />\r\n\r\n            <p className={styles.noConnectionMessage}>\r\n              There's a connection problem.\r\n            </p>\r\n\r\n            <span className={styles.noConnectionDetails}>{errorMessage}</span>\r\n\r\n            <div className={styles.buttonMargin}>\r\n              <ButtonSecondary disabled={loadingPlanetsCount} onClick={() => fetchPlanetsCount()}>{loadingPlanetsCount ? 'Tentando connection...' : 'Try to connect'}</ButtonSecondary>\r\n            </div>\r\n          </>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RandomPlanetDisplay;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport RandomPlanetDisplay from './components/RandomPlanetDisplay/RandomPlanetDisplay';\n\nReactDOM.render(<RandomPlanetDisplay />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"placeholder\":\"PlaceholderLoader_placeholder__RDbsg\",\"animatedBackground\":\"PlaceholderLoader_animatedBackground__1eQnY\",\"placeHolderShimmer\":\"PlaceholderLoader_placeHolderShimmer__1XwO_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3bslJ\",\"disabled\":\"Button_disabled__4pXzC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ButtonSecondary_button__34sMy\",\"disabled\":\"ButtonSecondary_disabled__1cpsc\"};"],"sourceRoot":""}